{
	# Optional: email for Let's Encrypt notifications
	email {LE_EMAIL}
}

{SITE_DOMAIN} {
	encode gzip
	# Optional Basic Auth (uncomment to enable). Generate a bcrypt hash with: caddy hash-password --plaintext 'yourpass'
	# basicauth / {
	#     {BASIC_AUTH_USER} {BASIC_AUTH_HASH}
	# }

	reverse_proxy app:8501

	# Security headers
	headers {
		X-Content-Type-Options nosniff
		X-Frame-Options DENY
		Referrer-Policy no-referrer
		X-XSS-Protection "1; mode=block"
		Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
	}
}
